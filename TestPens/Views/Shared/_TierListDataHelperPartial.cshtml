@using System.Text.Json;
@model IDictionary<Tier, List<PersonModel>>

<script>
    if (typeof AllPersonByGuid === 'undefined') {
        var AllPersonByGuid = new Map();
    }
    AllPersonByGuid.clear();

    var data = @Html.Raw(JsonSerializer.Serialize(Model));

    for (const [tier, persons] of Object.entries(data)) {
        for (const person of persons) {
            AllPersonByGuid.set(person.Guid, person);
        }
    }
</script>